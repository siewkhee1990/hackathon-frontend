(this["webpackJsonpvms-app"]=this["webpackJsonpvms-app"]||[]).push([[0],{103:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),s=n.n(c),r=n(27),i=n.n(r),l=(n(75),n(76),n(77),n(9)),o=n(6),d=n(8),j=n.n(d),b=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL_PATIENTS||"http://localhost:5000/patients",h=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL_GPS||"http://localhost:5000/gps",u=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL_APPOINTMENTS||"http://localhost:5000/appointments",p=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL_TESTS||"http://localhost:5000/tests";function O(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){j.a.get(p).then((function(e){return s(e.data)}))}),[]),Object(a.jsx)("div",{children:n})}var x=n(16),m=n(105);function g(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Welcome to Vaccination Management System"}),Object(a.jsx)(x.b,{to:"/patient",children:Object(a.jsx)(m.a,{variant:"primary",className:"mx-2",children:"Proceed as Patient"})}),Object(a.jsx)(x.b,{to:"/gp",children:Object(a.jsx)(m.a,{variant:"primary",className:"mx-2",children:"Proceed as GP"})})]})}var f=n(111);function v(e){var t=Object(c.useState)(""),n=Object(o.a)(t,2),s=n[0],r=n[1],i=Object(c.useState)(""),l=Object(o.a)(i,2),d=l[0],h=l[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Patient Portal"}),Object(a.jsxs)(f.a,{className:"m-3",children:[Object(a.jsxs)(f.a.Group,{controlId:"login",children:[Object(a.jsx)(f.a.Label,{children:"Email"}),Object(a.jsx)(f.a.Control,{type:"email",placeholder:"Enter email address",value:s,onChange:function(e){return r(e.target.value)}})]}),Object(a.jsxs)(f.a.Group,{controlId:"password",children:[Object(a.jsx)(f.a.Label,{children:"Password"}),Object(a.jsx)(f.a.Control,{type:"password",placeholder:"Enter password",value:d,onChange:function(e){return h(e.target.value)}})]}),Object(a.jsx)(m.a,{type:"submit",variant:"primary",className:"mx-2",onClick:function(t){return function(t){t.preventDefault(),s&&d||alert("Please key in required field!");var n={email:s,password:d};j.a.post("".concat(b,"/login"),n).then((function(t){localStorage.setItem("ptoken",JSON.stringify(t.data.ptoken)),e.history.push("/patient/dashboard")})).catch((function(e){e.response?e.response.data?alert(e.response.data.message):console.log(e.response):console.log(e)}))}(t)},children:"Sign in"}),Object(a.jsx)(x.b,{to:"/patient/register",children:Object(a.jsx)(m.a,{type:"submit",variant:"primary",className:"mx-2",children:"Register"})})]})]})}var y=function(e){var t=Object(c.useState)(""),n=Object(o.a)(t,2),s=n[0],r=n[1],i=Object(c.useState)(""),l=Object(o.a)(i,2),d=l[0],h=l[1],u=Object(c.useState)(""),p=Object(o.a)(u,2),O=p[0],x=p[1],g=Object(c.useState)(""),v=Object(o.a)(g,2),y=v[0],C=v[1],S=Object(c.useState)(""),N=Object(o.a)(S,2),E=N[0],P=N[1],A=Object(c.useState)(""),I=Object(o.a)(A,2),k=I[0],T=I[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Patient Register"}),Object(a.jsxs)(f.a,{children:[Object(a.jsxs)(f.a.Group,{controlId:"nric",children:[Object(a.jsx)(f.a.Label,{children:"Key in NRIC / FIN"}),Object(a.jsx)(f.a.Control,{type:"text",placeholder:"Type in NRIC / FIN to fill in data.",value:k,onChange:function(e){return T(e.target.value)}}),Object(a.jsx)(m.a,{onClick:function(e){return function(e){e.preventDefault(),""!==k?j.a.get("".concat(b,"/fetch/").concat(k)).then((function(e){r(e.data.name),h(e.data.email),P(e.data.phoneNumber),alert("Your information has been successfully fetched.\n        Please ensure that all the details are correct before \n        proceeding with the registration.")})).catch((function(e){e.response?e.response.data?alert(e.response.data.message):console.log(e.response):console.log(e)})):alert("Please enter your NRIC/FIN.")}(e)},children:"fetch info"})]}),Object(a.jsxs)(f.a.Group,{controlId:"name",children:[Object(a.jsx)(f.a.Label,{children:"Name"}),Object(a.jsx)(f.a.Control,{type:"text",placeholder:"name",required:!0,defaultValue:s,value:s,onChange:function(e){return r(e.target.value)}})]}),Object(a.jsxs)(f.a.Group,{controlId:"email",children:[Object(a.jsx)(f.a.Label,{children:"Email"}),Object(a.jsx)(f.a.Control,{type:"email",placeholder:"email",required:!0,defaultValue:d,value:d,onChange:function(e){return h(e.target.value)}})]}),Object(a.jsxs)(f.a.Group,{controlId:"password",children:[Object(a.jsx)(f.a.Label,{children:"Password"}),Object(a.jsx)(f.a.Control,{type:"password",placeholder:"password(8 characters)",required:!0,minLength:"8",value:O,onChange:function(e){return x(e.target.value)}})]}),Object(a.jsxs)(f.a.Group,{controlId:"confirmPassword",children:[Object(a.jsx)(f.a.Label,{children:"Confirm Password"}),Object(a.jsx)(f.a.Control,{type:"password",placeholder:"confirm password",required:!0,minLength:"8",value:y,onChange:function(e){return C(e.target.value)}})]}),Object(a.jsxs)(f.a.Group,{controlId:"phonenumber",children:[Object(a.jsx)(f.a.Label,{children:"Phone Number"}),Object(a.jsx)(f.a.Control,{type:"phone",placeholder:"phone number",pattern:"^[8-9][0-9]{7}$",required:!0,defaultValue:E,value:E,onChange:function(e){return P(e.target.value)}})]}),Object(a.jsx)(m.a,{type:"submit",variant:"primary",onClick:function(t){return function(t){t.preventDefault(),s&&d&&O?O.length<8?alert("Please enter at least 8 characters in password field!"):O!==y?alert("Confirm password not match!"):j.a.post("".concat(b,"/create"),{name:s,email:d,password:O,phoneNumber:E}).then((function(t){console.log(t.data),alert("Registeration successful"),e.history.push("/patient")})).catch((function(e){e.response?e.response.data?alert(e.response.data.message):console.log(e.response):console.log(e)})):alert("Please fill in required fields!")}(t)},children:"Register"})]})]})},C=n(55),S=n(112),N=n(69),E=n(66),P=n(107),A=n(108),I=n(67),k=n(114),T=n(106),w=n(113),_=n(110);function D(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(T.a,{striped:!0,bordered:!0,hover:!0,variant:"outlined-light",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"S/N"}),Object(a.jsx)("th",{children:"Appt. ID"}),Object(a.jsx)("th",{children:"Patient Name"}),Object(a.jsx)("th",{children:"Appointment Date"}),Object(a.jsx)("th",{children:"Vaccive Type"}),Object(a.jsx)("th",{children:"Status"}),Object(a.jsx)("th",{children:"Next Appointment"}),Object(a.jsx)("th",{children:"Edit Appt."}),Object(a.jsx)("th",{children:"Delete Appt."})]})}),Object(a.jsx)("tbody",{children:e.appointments&&e.appointments.map((function(t,n){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:n+1}),Object(a.jsx)("td",{children:t.aid}),Object(a.jsx)("td",{children:t.name}),Object(a.jsx)("td",{children:t.date}),Object(a.jsx)("td",{children:t.vaccineType}),Object(a.jsx)("td",{children:t.status}),Object(a.jsxs)("td",{children:["completed"===t.status&&Object(a.jsx)(m.a,{variant:"outline-success",disabled:"completed"!==t.status,children:"Schedule"}),"completed"!==t.status&&Object(a.jsx)(m.a,{variant:"outline-secondary",disabled:"completed"!==t.status,children:"Schedule"})]}),Object(a.jsxs)("td",{children:["pending"===t.status&&Object(a.jsx)(m.a,{variant:"outline-warning",onClick:function(){return e.setEdit(t)},disabled:"completed"===t.status,children:"Edit"}),"pending"!==t.status&&Object(a.jsx)(m.a,{variant:"outline-secondary",onClick:function(){return e.setEdit(t)},disabled:"completed"===t.status,children:"Edit"})]}),Object(a.jsxs)("td",{children:["pending"!==t.status&&Object(a.jsx)(m.a,{variant:"outline-secondary",onClick:function(){return e.deleteAppointment(t.id,t)},disabled:"completed"===t.status,children:"Delete"}),"pending"===t.status&&Object(a.jsx)(m.a,{variant:"outline-danger",onClick:function(){return e.deleteAppointment(t.id,t)},disabled:"completed"===t.status,children:"Delete"})]})]},n+1)}))})]})})}function L(e){var t=Object(c.useState)([]),n=Object(o.a)(t,2),r=n[0],i=n[1];Object(c.useEffect)((function(){var t=JSON.parse(localStorage.getItem("ptoken"));t?j.a.get("".concat(u,"/pid/").concat(t.pid)).then((function(e){console.log(e),i(e.data)})).catch((function(e){e.response?e.response.data?alert(e.response.data.message):console.log(e.response):console.log(e)})):(alert("Please login to use the system!"),e.history.push("/patient"))}),[]);var l=s.a.useState(!1),d=Object(o.a)(l,2),b=d[0],h=d[1];return Object(a.jsxs)("div",{className:"App mt-5",children:[Object(a.jsxs)(S.a,{bg:"primary",variant:"dark",children:[Object(a.jsx)(S.a.Brand,{href:"#home",children:"My Profile"}),Object(a.jsxs)(N.a,{className:"mr-auto",children:[Object(a.jsx)(x.b,{to:"/patient/appointment",children:Object(a.jsx)(N.a.Link,{href:"#myAppointments",children:"My Appointments"})}),Object(a.jsx)(x.b,{to:"",children:Object(a.jsx)(N.a.Link,{href:"#logout",children:"logout"})})]}),Object(a.jsxs)(f.a,{inline:!0,children:[Object(a.jsx)(E.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),Object(a.jsx)(m.a,{variant:"outline-light",children:"Search"})]})]}),Object(a.jsxs)(P.a,{fluid:!0,children:[Object(a.jsx)(A.a,{className:"m-3",children:Object(a.jsx)(I.a,{children:Object(a.jsxs)(k.a,{border:"success",style:{width:"Auto"},children:[Object(a.jsx)(k.a.Header,{children:"Upcoming Appointments"}),Object(a.jsx)(k.a.Body,{children:Object(a.jsxs)(T.a,{striped:!0,bordered:!0,hover:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"#"}),Object(a.jsx)("th",{children:"Date"}),Object(a.jsx)("th",{children:"Vacine Type"}),Object(a.jsx)("th",{children:"GP"})]})}),Object(a.jsx)("tbody",{children:r.map((function(e){return Object(a.jsxs)("tr",{id:e.aid,children:[Object(a.jsx)("td",{children:e.aid}),Object(a.jsx)("td",{children:e.date}),Object(a.jsx)("td",{children:e.vaccineType}),Object(a.jsx)("td",{children:e.gpid})]},e.aid)}))})]})})]})})}),Object(a.jsxs)(A.a,{className:"m-3",children:[Object(a.jsx)(I.a,{children:Object(a.jsxs)(k.a,{border:"warning",style:{width:"Auto"},children:[Object(a.jsx)(k.a.Header,{children:"Health Checkup!"}),Object(a.jsxs)(k.a.Body,{children:[Object(a.jsx)(k.a.Text,{children:"Update your daily progress!"}),Object(a.jsx)(m.a,{variant:"warning",onClick:function(){return h(!0)},children:"Start"}),Object(a.jsx)(G,{show:b,onHide:function(){return h(!1)}})]})]})}),Object(a.jsx)(I.a,{children:Object(a.jsxs)(k.a,{border:"danger",style:{width:"Auto"},children:[Object(a.jsx)(k.a.Header,{children:"Emergency Hotlines!"}),Object(a.jsxs)(k.a.Body,{children:[Object(a.jsx)(k.a.Text,{children:"Reach out to an officer!"}),Object(a.jsx)(m.a,{variant:"danger",children:"Call"})," "]})]})})]}),Object(a.jsx)(A.a,{className:"m-3",children:Object(a.jsx)(I.a,{children:Object(a.jsxs)(k.a,{border:"info",style:{width:"Auto"},children:[Object(a.jsx)(k.a.Header,{children:"Useful Information"}),Object(a.jsx)(k.a.Body,{className:"m-2",children:Object(a.jsx)(w.a,{className:"m-1",children:Object(a.jsxs)(k.a,{children:[Object(a.jsx)(k.a.Header,{children:Object(a.jsx)(w.a.Toggle,{as:m.a,variant:"link",eventKey:"0",children:"Vaccination side effects!"})}),Object(a.jsx)(w.a.Collapse,{eventKey:"0",children:Object(a.jsxs)(k.a.Body,{children:[Object(a.jsx)("li",{children:"Vommitting"}),Object(a.jsx)("li",{children:"Nausea"}),Object(a.jsx)("li",{children:"Pain"}),Object(a.jsx)("li",{children:"Breathlessness"}),Object(a.jsx)("li",{children:"Panic"})]})})]})})})]})})})]})]})}function G(e){return Object(a.jsxs)(_.a,Object(C.a)(Object(C.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(a.jsx)(_.a.Header,{closeButton:!0,children:Object(a.jsx)(_.a.Title,{id:"contained-modal-title-vcenter",children:"Vaccination Monitoring Procedure"})}),Object(a.jsxs)(_.a.Body,{children:[Object(a.jsx)("p",{children:"Please provide the required information!"}),Object(a.jsxs)(f.a,{children:[Object(a.jsxs)("fieldset",{children:[Object(a.jsx)(f.a.Group,{children:["checkbox"].map((function(e){return Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)(f.a.Text,{children:"Are you experiencing pain anywhere in your body?"}),Object(a.jsx)(f.a.Check,{inline:!0,label:"Yes",type:e,id:"inline-".concat(e,"-1")}),Object(a.jsx)(f.a.Check,{inline:!0,label:"No",type:e,id:"inline-".concat(e,"-2")})]},"inline-".concat(e))}))}),Object(a.jsx)(f.a.Group,{children:["checkbox"].map((function(e){return Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)(f.a.Text,{children:"Are you having headaches/fever/chills?"}),Object(a.jsx)(f.a.Check,{inline:!0,label:"Not at all",type:e,id:"inline-".concat(e,"-1")}),Object(a.jsx)(f.a.Check,{inline:!0,label:"Bearable",type:e,id:"inline-".concat(e,"-2")}),Object(a.jsx)(f.a.Check,{inline:!0,label:"Extreme",type:e,id:"inline-".concat(e,"-2")})]},"inline-".concat(e))}))}),Object(a.jsx)(f.a.Group,{children:["checkbox"].map((function(e){return Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)(f.a.Text,{children:"Are there any Signs of redness or rashes on your skin?"}),Object(a.jsx)(f.a.Check,{inline:!0,label:"Yes",type:e,id:"inline-".concat(e,"-1")}),Object(a.jsx)(f.a.Check,{inline:!0,label:"No",type:e,id:"inline-".concat(e,"-2")})]},"inline-".concat(e))}))}),Object(a.jsx)(f.a.Group,{children:["checkbox"].map((function(e){return Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)(f.a.Text,{children:"Are you feeling tired or exhausted?"}),Object(a.jsx)(f.a.Check,{inline:!0,label:"Not at all",type:e,id:"inline-".concat(e,"-1")}),Object(a.jsx)(f.a.Check,{inline:!0,label:"A little",type:e,id:"inline-".concat(e,"-2")}),Object(a.jsx)(f.a.Check,{inline:!0,label:"Exhausted",type:e,id:"inline-".concat(e,"-2")})]},"inline-".concat(e))}))}),Object(a.jsx)(f.a.Group,{children:["checkbox"].map((function(e){return Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)(f.a.Text,{children:" Any feeling of sickness or nausea?"}),Object(a.jsx)(f.a.Check,{inline:!0,label:"Not at all",type:e,id:"inline-".concat(e,"-1")}),Object(a.jsx)(f.a.Check,{inline:!0,label:"A little",type:e,id:"inline-".concat(e,"-2")}),Object(a.jsx)(f.a.Check,{inline:!0,label:"I need assistance!",type:e,id:"inline-".concat(e,"-2")})]},"inline-".concat(e))}))}),Object(a.jsx)(f.a.Group,{children:["checkbox"].map((function(e){return Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)(f.a.Text,{children:"Sudden loss or gain of weight?"}),Object(a.jsx)(f.a.Check,{inline:!0,label:"Yes",type:e,id:"inline-".concat(e,"-1")}),Object(a.jsx)(f.a.Check,{inline:!0,label:"No",type:e,id:"inline-".concat(e,"-2")})]},"inline-".concat(e))}))})]}),Object(a.jsx)(f.a.Group,{as:A.a,children:Object(a.jsx)(I.a,{sm:{span:10,offset:2},children:Object(a.jsx)(m.a,{type:"submit",onClick:e.onHide,children:"Submit"})})})]})]}),Object(a.jsx)(_.a.Footer,{children:Object(a.jsx)(m.a,{onClick:e.onHide,children:"Close"})})]}))}function R(e){var t=Object(c.useState)("Covid-19"),n=Object(o.a)(t,2),s=n[0],r=n[1],i=Object(c.useState)(""),l=Object(o.a)(i,2),d=l[0],b=l[1],p=Object(c.useState)([]),O=Object(o.a)(p,2),x=O[0],g=O[1],v=Object(c.useState)(""),y=Object(o.a)(v,2),C=y[0],S=y[1];Object(c.useEffect)((function(){localStorage.getItem("ptoken")?j.a.get("".concat(h)).then((function(e){g(e.data)})).catch((function(e){e.response?e.response.data?alert(e.response.data.message):console.log(e.response):console.log(e)})):(alert("Please login to make an appointment!"),e.history.push("/patient"))}),[]);return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Book New Appointment"}),Object(a.jsxs)(f.a,{onSubmit:function(t){return function(t){if(t.preventDefault(),d&&s&&C){var n=JSON.parse(localStorage.getItem("ptoken")),a={pid:n.pid,name:n.name,vaccineType:s,date:d,gpid:C};j.a.post("".concat(u,"/create"),a).then((function(t){console.log(t),alert(t.data.message),e.history.push("/patient/dashboard")})).catch((function(e){e.response?e.response.data?alert(e.response.data.message):console.log(e.response):console.log(e)}))}else alert("Please fill in required field!")}(t)},className:"m-3",children:[Object(a.jsxs)(f.a.Group,{controlId:"vaccination",children:[Object(a.jsx)(f.a.Label,{children:"Vaccination Type"}),Object(a.jsxs)(f.a.Control,{as:"select",value:s,readOnly:!0,onChange:function(e){return r(e.target.value)},children:[Object(a.jsx)("option",{children:"Covid-19"}),Object(a.jsx)("option",{children:"Influenza"}),Object(a.jsx)("option",{children:"Hepatitis"})]})]}),Object(a.jsxs)(f.a.Group,{controlId:"date",children:[Object(a.jsx)(f.a.Label,{children:"Appointment Date"}),Object(a.jsx)(f.a.Control,{type:"date",placeholder:"Select date...",format:"YYYY-Mmm-DD",value:d,onChange:function(e){return b(e.target.value)},required:!0})]}),Object(a.jsxs)(f.a.Group,{controlId:"generalpractitioner",children:[Object(a.jsx)(f.a.Label,{children:"GP"}),Object(a.jsxs)(f.a.Control,{as:"select",defaultValue:"Choose...",value:C,onChange:function(e){return S(e.target.value)},children:[Object(a.jsx)("option",{children:"Choose..."}),x.map((function(e){return Object(a.jsx)("option",{value:e.gpid,children:e.clinicName},e.gpid)}))]})]}),Object(a.jsx)(m.a,{variant:"primary",type:"submit",children:"Create"})]})]})})}function K(e){var t=Object(c.useState)(""),n=Object(o.a)(t,2),s=n[0],r=n[1],i=Object(c.useState)(""),l=Object(o.a)(i,2),d=l[0],b=l[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"GP Portal"}),Object(a.jsxs)(f.a,{className:"m-3",children:[Object(a.jsxs)(f.a.Group,{controlId:"login",children:[Object(a.jsx)(f.a.Label,{children:"Email"}),Object(a.jsx)(f.a.Control,{type:"email",placeholder:"Enter email address",value:s,onChange:function(e){return r(e.target.value)}})]}),Object(a.jsxs)(f.a.Group,{controlId:"password",children:[Object(a.jsx)(f.a.Label,{children:"Password"}),Object(a.jsx)(f.a.Control,{type:"password",placeholder:"Enter password",value:d,onChange:function(e){return b(e.target.value)}})]}),Object(a.jsx)(m.a,{type:"submit",variant:"primary",className:"mx-2",onClick:function(t){return function(t){t.preventDefault(),s&&d||alert("Please key in required field!");var n={email:s,password:d};j.a.post("".concat(h,"/login"),n).then((function(t){localStorage.setItem("gptoken",JSON.stringify(t.data.gptoken)),e.history.push("/gp/dashboard")})).catch((function(e){e.response?e.response.data?alert(e.response.data.message):console.log(e.response):console.log(e)}))}(t)},children:"Sign in"}),Object(a.jsx)(x.b,{to:"gp/register",children:Object(a.jsx)(m.a,{variant:"primary",className:"mx-2",children:"Register"})})]})]})}var H=n(115),q=n(109);function B(e){var t=Object(c.useState)(""),n=Object(o.a)(t,2),s=n[0],r=n[1],i=Object(c.useState)(""),l=Object(o.a)(i,2),d=l[0],h=l[1],p=Object(c.useState)(""),O=Object(o.a)(p,2),x=O[0],g=O[1],v=Object(c.useState)(""),y=Object(o.a)(v,2),C=y[0],S=y[1],N=Object(c.useState)(""),E=Object(o.a)(N,2),P=E[0],A=E[1];Object(c.useEffect)((function(){h(s.aid),g(s.name),S(s.date)}),[s]);return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(f.a,{onSubmit:function(t){return function(t){t.preventDefault(),d&&x&&C?j.a.put("".concat(u,"/id/").concat(d,"/status/completed")).then((function(t){console.log(t),alert(t.data.message),A(""),h(""),g(""),S(""),r(""),e.toggleUpdate()})).catch((function(e){e.response?e.response.data?alert(e.response.data.message):console.log(e.response):console.log(e)})):alert("Please enter required field!")}(t)},className:"m-3",children:[Object(a.jsx)("h2",{children:"Key in"}),Object(a.jsxs)(f.a.Group,{controlId:"nric",children:[Object(a.jsx)(f.a.Label,{children:"NRIC / FIN"}),Object(a.jsx)(f.a.Control,{type:"text",placeholder:"Type in NRIC / FIN to fill in data.",value:P,onChange:function(e){return A(e.target.value)}}),Object(a.jsx)(m.a,{className:"my-3",variant:"outline-primary",onClick:function(e){return function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("gptoken")).gpid;P?j.a.get("".concat(b,"/fetch/").concat(P)).then((function(e){console.log(e),j.a.get("".concat(u,"/gpid/").concat(t,"/email/").concat(e.data.email)).then((function(e){console.log(e),1===e.data.length&&(r(e.data[0]),alert("Appointment found!"))})).catch((function(e){e.response?e.response.data?alert(e.response.data.message):console.log(e.response):console.log(e)}))})):alert("Please enter NRIC to use this feature!")}(e)},children:"fetch info"})]}),Object(a.jsx)("h2",{children:"-------------------- Or --------------------"}),Object(a.jsxs)(f.a.Group,{controlId:"id",children:[Object(a.jsx)(f.a.Label,{children:"Appointment ID"}),Object(a.jsx)(f.a.Control,{type:"text",placeholder:"Enter appointment ID",value:d,required:!0,onChange:function(e){return h(e.target.value)}})]}),Object(a.jsxs)(f.a.Group,{controlId:"patientname",children:[Object(a.jsx)(f.a.Label,{children:"Patient's Name"}),Object(a.jsx)(f.a.Control,{type:"text",placeholder:"Enter patient's name",value:x,required:!0,onChange:function(e){return g(e.target.value)}})]}),Object(a.jsxs)(f.a.Group,{controlId:"vaccinetype",children:[Object(a.jsx)(f.a.Label,{children:"Vaccination Type"}),Object(a.jsx)(f.a.Control,{type:"text",value:"Covid-19",readOnly:!0})]}),Object(a.jsxs)(f.a.Group,{controlId:"date",children:[Object(a.jsx)(f.a.Label,{children:"Appointment Date"}),Object(a.jsx)(f.a.Control,{type:"date",placeholder:"Enter date of appointment",value:C,required:!0,onChange:function(e){return S(e.target.value)}})]}),Object(a.jsx)(m.a,{variant:"outline-primary",type:"submit",className:"m-5",disabled:!(d&&x&&C),children:"Check-In"})]})})}function F(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(f.a,{className:"m-3",onSubmit:function(t){e.updateAppointment(t,e.edit.aid)},children:[Object(a.jsxs)(f.a.Group,{controlId:"patientname",children:[Object(a.jsx)(f.a.Label,{children:"Patient's Name"}),Object(a.jsx)(f.a.Control,{type:"text",placeholder:"Enter patient's name",value:e.edit.name,readOnly:!0})]}),Object(a.jsxs)(f.a.Group,{controlId:"vaccinetype",children:[Object(a.jsx)(f.a.Label,{children:"Vaccination Type"}),Object(a.jsx)(f.a.Control,{type:"text",value:"Covid-19",readOnly:!0})]}),Object(a.jsxs)(f.a.Group,{controlId:"oridate",children:[Object(a.jsx)(f.a.Label,{children:"Original Appointment Date"}),Object(a.jsx)(f.a.Control,{type:"date",value:e.edit.date,readOnly:!0})]}),Object(a.jsxs)(f.a.Group,{controlId:"newdate",children:[Object(a.jsx)(f.a.Label,{children:"New Appointment Date"}),Object(a.jsx)(f.a.Control,{type:"date",placeholder:"Enter date of appointment",value:e.newAppointmentDate,onChange:function(t){return e.setNewAppointmentDate(t.target.value)}})]}),Object(a.jsx)(m.a,{variant:"outline-primary",type:"submit",className:"m-5",children:"Update"}),Object(a.jsx)(m.a,{variant:"outline-danger",type:"button",className:"m-5",onClick:function(){return e.setEdit(null)},children:"Cancel"})]})})}function U(e){var t=Object(c.useState)([]),n=Object(o.a)(t,2),s=n[0],r=n[1],i=Object(c.useState)(null),l=Object(o.a)(i,2),d=l[0],b=l[1],h=Object(c.useState)(""),p=Object(o.a)(h,2),O=p[0],x=p[1],g=Object(c.useState)(null),f=Object(o.a)(g,2),v=f[0],y=f[1],C=Object(c.useState)(!1),S=Object(o.a)(C,2),N=S[0],E=S[1];Object(c.useEffect)((function(){var t=JSON.parse(localStorage.getItem("gptoken"));t?b(t):(alert("Please login to use this page!"),e.history.push("/gp"))}),[]),Object(c.useEffect)((function(){d&&j.a.get("".concat(u,"/gpid/").concat(d.gpid)).then((function(e){r(e.data)})).catch((function(e){e.response?e.response.data?alert(e.response.data.message):console.log(e.response):console.log(e)}))}),[d,N]);return Object(a.jsxs)("div",{className:"App mt-5",children:[Object(a.jsx)("h2",{children:"GP Dashboard"}),Object(a.jsx)(m.a,{variant:"outline-danger",onClick:function(e){!function(e){e.preventDefault(),console.log(d)}(e)},children:"Check"}),Object(a.jsxs)(H.a,{defaultActiveKey:"appointments",id:"uncontrolled-tab-example",children:[d&&Object(a.jsxs)(q.a,{eventKey:"gpinfo",title:"GP Info",children:[Object(a.jsx)("h1",{className:"m-5",children:"My Clinic's Info"}),Object(a.jsxs)("div",{className:"mx-5 text-left",children:[Object(a.jsxs)("h2",{children:["Name: ",d.clinicName]}),Object(a.jsxs)("h4",{children:["Address: ",d.address]}),Object(a.jsxs)("h4",{children:["E-mail: ",d.email]})]})]}),Object(a.jsxs)(q.a,{eventKey:"appointments",title:"Appointments",children:[Object(a.jsx)("h1",{className:"m-5",children:"Appointments"}),Object(a.jsx)("div",{className:"mx-5",children:Object(a.jsx)(D,{appointments:s,setEdit:y,deleteAppointment:function(e,t){console.log(e),console.log(t)}})})]}),Object(a.jsx)(q.a,{eventKey:"checkin",title:"Check Patient In",children:Object(a.jsx)(B,{toggleUpdate:function(){E(!N)}})}),v&&d&&Object(a.jsx)(q.a,{eventKey:"edit",title:"Edit Appointment: S/N "+(s.map((function(e){return e.aid})).indexOf(v.aid)+1),children:Object(a.jsx)(F,{edit:v,newAppointmentDate:O,setNewAppointmentDate:x,setEdit:y,updateAppointment:function(e,t){if(e.preventDefault(),O){var n={date:O};j.a.put("".concat(u,"/id/").concat(t,"/changeDate"),n).then((function(e){alert(e.data.message),y(null),E(!N)})).catch((function(e){e.response?e.response.data?alert(e.response.data.message):console.log(e.response):console.log(e)}))}else alert("Pleasee enter a date!")}})})]})]})}var V=function(e){var t=Object(c.useState)(""),n=Object(o.a)(t,2),s=n[0],r=n[1],i=Object(c.useState)(""),l=Object(o.a)(i,2),d=l[0],b=l[1],u=Object(c.useState)(""),p=Object(o.a)(u,2),O=p[0],x=p[1],g=Object(c.useState)(""),v=Object(o.a)(g,2),y=v[0],C=v[1],S=Object(c.useState)(""),N=Object(o.a)(S,2),E=N[0],P=N[1],A=Object(c.useState)(""),I=Object(o.a)(A,2),k=I[0],T=I[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"GP Register"}),Object(a.jsxs)(f.a,{onSubmit:function(t){return function(t){t.preventDefault(),s&&d&&O&&y&&E&&k?y===E?j.a.post("".concat(h,"/create"),{clinicName:s,address:d,email:O,password:y,adminCode:k}).then((function(t){alert(t.data.message),e.history.push("/gp")})).catch((function(e){e.response?e.response.data?alert(e.response.data.message):console.log(e.response):console.log(e)})):alert("Confirm password and password not matched!"):alert("Please fill in required field!")}(t)},className:"m-3",children:[Object(a.jsxs)(f.a.Group,{controlId:"clinicname",children:[Object(a.jsx)(f.a.Label,{children:"Clinic Name"}),Object(a.jsx)(f.a.Control,{type:"text",placeholder:"Clinic's name",required:!0,value:s,onChange:function(e){return r(e.target.value)}})]}),Object(a.jsxs)(f.a.Group,{controlId:"address",children:[Object(a.jsx)(f.a.Label,{children:"Address"}),Object(a.jsx)(f.a.Control,{type:"address",placeholder:"last name",required:!0,value:d,onChange:function(e){return b(e.target.value)}})]}),Object(a.jsxs)(f.a.Group,{controlId:"email",children:[Object(a.jsx)(f.a.Label,{children:"Email"}),Object(a.jsx)(f.a.Control,{type:"email",placeholder:"email",required:!0,value:O,onChange:function(e){return x(e.target.value)}})]}),Object(a.jsxs)(f.a.Group,{controlId:"password",children:[Object(a.jsx)(f.a.Label,{children:"Password"}),Object(a.jsx)(f.a.Control,{type:"password",placeholder:"password(8 characters)",required:!0,minLength:"8",value:y,onChange:function(e){return C(e.target.value)}})]}),Object(a.jsxs)(f.a.Group,{controlId:"confirmpassword",children:[Object(a.jsx)(f.a.Label,{children:"Confirm Password"}),Object(a.jsx)(f.a.Control,{type:"password",placeholder:"confirm password",required:!0,minLength:"8",value:E,onChange:function(e){return P(e.target.value)}})]}),Object(a.jsxs)(f.a.Group,{controlId:"admincode",children:[Object(a.jsx)(f.a.Label,{children:"Admin Code"}),Object(a.jsx)(f.a.Control,{type:"password",placeholder:"Admin code",required:!0,value:k,onChange:function(e){return T(e.target.value)}})]}),Object(a.jsx)(m.a,{type:"submit",variant:"primary",children:"Register"})]})]})};var W=function(){return Object(a.jsxs)("div",{className:"w-75 mt-5 mx-auto",children:[Object(a.jsx)(O,{}),Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",component:g}),Object(a.jsx)(l.a,{path:"/patient/register",component:y}),Object(a.jsx)(l.a,{path:"/patient/dashboard",component:L}),Object(a.jsx)(l.a,{path:"/patient/appointment",component:R}),Object(a.jsx)(l.a,{path:"/gp/register",component:V}),Object(a.jsx)(l.a,{path:"/gp/dashboard",component:U}),Object(a.jsx)(l.a,{path:"/patient",component:v}),Object(a.jsx)(l.a,{path:"/gp",component:K})]})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,116)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(x.a,{children:Object(a.jsx)(W,{})})}),document.getElementById("root")),J()},75:function(e,t,n){},76:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.7f80d668.chunk.js.map