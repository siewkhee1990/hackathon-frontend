(this["webpackJsonpvms-app"]=this["webpackJsonpvms-app"]||[]).push([[0],{102:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s(0),c=s.n(n),r=s(27),o=s.n(r),i=(s(74),s(13)),l=s(6),j=(s(75),s(76),s(9)),d=s(15),b=s(114),u=s(104),h=s(105),p=s(66),O=s(106),x=s.p+"static/media/vmslogo.e647cd55.png";function g(){return Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(a.jsxs)(b.a,{style:{width:"80%",border:"0px"},children:[Object(a.jsx)("div",{style:{margin:"auto",width:"50%"},children:Object(a.jsx)(b.a.Img,{variant:"top",src:x,style:{height:"100%",width:"100%",justifyContent:"center"}})}),Object(a.jsx)(b.a.Body,{children:Object(a.jsx)(u.a,{fluid:!0,children:Object(a.jsxs)(h.a,{className:"m-3",children:[Object(a.jsx)(p.a,{children:Object(a.jsx)(d.b,{to:"/patient",style:{display:"flex",justifyContent:"center"},children:Object(a.jsx)(O.a,{variant:"primary",className:"mx-2",children:"Proceed as Patient"})})}),Object(a.jsx)(p.a,{children:Object(a.jsx)(d.b,{to:"/gp",style:{display:"flex",justifyContent:"center"},children:Object(a.jsx)(O.a,{variant:"primary",className:"mx-2",children:"Proceed as GP"})})})]})})})]})})}var m=s(8),f=s.n(m),v="http://team2-alb-2087658319.ap-southeast-1.elb.amazonaws.com/patients",y="http://team2-alb-2087658319.ap-southeast-1.elb.amazonaws.com/gps",E="http://team2-alb-2087658319.ap-southeast-1.elb.amazonaws.com/appointments",C=s(110);function S(e){var t=Object(n.useState)(""),s=Object(l.a)(t,2),c=s[0],r=s[1],o=Object(n.useState)(""),i=Object(l.a)(o,2),j=i[0],b=i[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Patient Portal"}),Object(a.jsxs)(C.a,{className:"m-3",children:[Object(a.jsxs)(C.a.Group,{controlId:"login",children:[Object(a.jsx)(C.a.Label,{children:"Email"}),Object(a.jsx)(C.a.Control,{type:"email",placeholder:"Enter email address",value:c,onChange:function(e){return r(e.target.value)}})]}),Object(a.jsxs)(C.a.Group,{controlId:"password",children:[Object(a.jsx)(C.a.Label,{children:"Password"}),Object(a.jsx)(C.a.Control,{type:"password",placeholder:"Enter password",value:j,onChange:function(e){return b(e.target.value)}})]}),Object(a.jsx)(O.a,{type:"submit",variant:"primary",className:"mx-2",onClick:function(t){return function(t){if(t.preventDefault(),c&&j){var s={email:c,password:j};f.a.post("".concat(v,"/login"),s).then((function(t){localStorage.setItem("ptoken",JSON.stringify(t.data.ptoken)),e.history.push("/patient/dashboard")})).catch((function(t){e.setToastError(!0),t.response?t.response.data?e.setErrorMessage(t.response.data.message):(console.log(t.response),e.setErrorMessage(t.response.message)):(console.log(t),e.setErrorMessage(t.message))}))}else e.setToastError(!0),e.setErrorMessage("Please key in required field!")}(t)},children:"Sign in"}),Object(a.jsx)(d.b,{to:"/patient/register",children:Object(a.jsx)(O.a,{type:"submit",variant:"primary",className:"mx-2",children:"Register"})})]})]})}var N=function(e){var t=Object(n.useState)(""),s=Object(l.a)(t,2),c=s[0],r=s[1],o=Object(n.useState)(""),i=Object(l.a)(o,2),j=i[0],d=i[1],b=Object(n.useState)(""),u=Object(l.a)(b,2),h=u[0],p=u[1],x=Object(n.useState)(""),g=Object(l.a)(x,2),m=g[0],y=g[1],E=Object(n.useState)(""),S=Object(l.a)(E,2),N=S[0],M=S[1],T=Object(n.useState)(""),w=Object(l.a)(T,2),k=w[0],I=w[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Patient Register"}),Object(a.jsxs)(C.a,{children:[Object(a.jsxs)(C.a.Group,{controlId:"nric",children:[Object(a.jsx)(C.a.Label,{children:"Key in NRIC / FIN"}),Object(a.jsx)(C.a.Control,{type:"text",placeholder:"Type in NRIC / FIN to fill in data.",value:k,onChange:function(e){return I(e.target.value)}}),Object(a.jsx)(O.a,{onClick:function(t){return function(t){t.preventDefault(),""!==k?f.a.get("".concat(v,"/fetch/").concat(k)).then((function(t){r(t.data.name),d(t.data.email),M(t.data.phoneNumber),e.setToastSuccess(!0),e.setSuccessMessage("Your information has been successfully fetched.\n        Please ensure that all the details are correct before \n        proceeding with the registration.")})).catch((function(t){e.setToastError(!0),t.response?t.response.data?e.setErrorMessage(t.response.data.message):(console.log(t.response),e.setErrorMessage(t.response.message)):(console.log(t),e.setErrorMessage(t.message))})):(e.setToastError(!0),e.setErrorMessage("Please enter your NRIC/FIN."))}(t)},children:"fetch info"})]}),Object(a.jsxs)(C.a.Group,{controlId:"name",children:[Object(a.jsx)(C.a.Label,{children:"Name"}),Object(a.jsx)(C.a.Control,{type:"text",placeholder:"name",required:!0,defaultValue:c,value:c,onChange:function(e){return r(e.target.value)}})]}),Object(a.jsxs)(C.a.Group,{controlId:"email",children:[Object(a.jsx)(C.a.Label,{children:"Email"}),Object(a.jsx)(C.a.Control,{type:"email",placeholder:"email",required:!0,defaultValue:j,value:j,onChange:function(e){return d(e.target.value)}})]}),Object(a.jsxs)(C.a.Group,{controlId:"password",children:[Object(a.jsx)(C.a.Label,{children:"Password"}),Object(a.jsx)(C.a.Control,{type:"password",placeholder:"password(8 characters)",required:!0,minLength:"8",value:h,onChange:function(e){return p(e.target.value)}})]}),Object(a.jsxs)(C.a.Group,{controlId:"confirmPassword",children:[Object(a.jsx)(C.a.Label,{children:"Confirm Password"}),Object(a.jsx)(C.a.Control,{type:"password",placeholder:"confirm password",required:!0,minLength:"8",value:m,onChange:function(e){return y(e.target.value)}})]}),Object(a.jsxs)(C.a.Group,{controlId:"phonenumber",children:[Object(a.jsx)(C.a.Label,{children:"Phone Number"}),Object(a.jsx)(C.a.Control,{type:"phone",placeholder:"phone number",pattern:"^[8-9][0-9]{7}$",required:!0,defaultValue:N,value:N,onChange:function(e){return M(e.target.value)}})]}),Object(a.jsx)(O.a,{type:"submit",variant:"primary",onClick:function(t){return function(t){t.preventDefault(),c&&j&&h?h.length<8?(e.setToastError(!0),e.setErrorMessage("Please enter at least 8 characters in password field!")):h!==m?(e.setToastError(!0),e.setErrorMessage("Confirm password not match!")):f.a.post("".concat(v,"/create"),{name:c,email:j,password:h,phoneNumber:N}).then((function(t){e.setToastSuccess(!0),console.log(t.data),e.setSuccessMessage("Registeration successful"),e.history.push("/patient")})).catch((function(t){e.setToastError(!0),t.response?t.response.data?e.setErrorMessage(t.response.data.message):(console.log(t.response),e.setErrorMessage(t.response.message)):(console.log(t),e.setErrorMessage(t.message))})):(e.setToastError(!0),e.setErrorMessage("Please fill in required fields!"))}(t)},children:"Register"})]})]})},M=s(112),T=s(68),w=s(107),k=s(113),I=s(109);function P(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(w.a,{striped:!0,bordered:!0,hover:!0,variant:"outlined-light",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"S/N"}),Object(a.jsx)("th",{children:"Appt. ID"}),Object(a.jsx)("th",{children:"Patient Name"}),Object(a.jsx)("th",{children:"Appointment Date"}),Object(a.jsx)("th",{children:"Vaccive Type"}),Object(a.jsx)("th",{children:"Status"}),Object(a.jsx)("th",{children:"Next Appointment"}),Object(a.jsx)("th",{children:"Edit Appt."}),Object(a.jsx)("th",{children:"Delete Appt."})]})}),Object(a.jsx)("tbody",{children:e.appointments&&e.appointments.map((function(t,s){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:s+1}),Object(a.jsx)("td",{children:t.aid}),Object(a.jsx)("td",{children:t.name}),Object(a.jsx)("td",{children:t.date}),Object(a.jsx)("td",{children:t.vaccineType}),Object(a.jsx)("td",{children:t.status}),Object(a.jsx)("td",{children:Object(a.jsx)(O.a,{variant:"completed"===t.status?"outline-success":"outline-secondary",disabled:"completed"!==t.status,children:"Schedule"})}),Object(a.jsx)("td",{children:Object(a.jsx)(O.a,{variant:"pending"===t.status?"outline-warning":"outline-secondary",onClick:function(){return e.setEdit(t)},disabled:"completed"===t.status,children:"Edit"})}),Object(a.jsx)("td",{children:Object(a.jsx)(O.a,{variant:"pending"===t.status?"outline-danger":"outline-secondary",onClick:function(){return e.deleteAppointment(t.aid,t)},disabled:"completed"===t.status,children:"Delete"})})]},s+1)}))})]})})}var A=s(54);function G(e){var t=Object(n.useState)(!1),s=Object(l.a)(t,2),r=s[0],o=s[1],i=Object(n.useState)([]),j=Object(l.a)(i,2),g=j[0],m=j[1],v=c.a.useState(!1),y=Object(l.a)(v,2),C=y[0],S=y[1];Object(n.useEffect)((function(){var t=JSON.parse(localStorage.getItem("ptoken"));t?f.a.get("".concat(E,"/pid/").concat(t.pid)).then((function(e){console.log(e),m(e.data)})).catch((function(t){e.setToastError(!0),t.response?t.response.data?e.setErrorMessage(t.response.data.message):(console.log(t.response),e.setErrorMessage(t.response.message)):(console.log(t),e.setErrorMessage(t.message))})):(alert("Please login to use the system!"),e.history.push("/patient"))}),[]);return Object(a.jsxs)("div",{className:"App mt-5",children:[Object(a.jsxs)(M.a,{className:"text-white",style:{backgroundColor:"#1c1f54ff"},variant:"dark",children:[Object(a.jsx)(M.a.Brand,{href:"#home",children:"My Dashboard"}),Object(a.jsxs)(T.a,{className:"mr-auto",children:[Object(a.jsx)(d.b,{to:"/patient/appointment",children:Object(a.jsx)(T.a.Link,{href:"#myAppointments",children:"New Appointment"})}),Object(a.jsx)(d.b,{to:"",children:Object(a.jsx)(T.a.Link,{href:"#logout",children:"logout"})})]}),Object(a.jsx)(A.a,{src:x,style:{height:"50px"}})]}),Object(a.jsxs)(u.a,{fluid:!0,children:[Object(a.jsx)(h.a,{className:"m-3",children:Object(a.jsx)(p.a,{children:Object(a.jsxs)(b.a,{style:{width:"Auto",border:" 1px solid #375efc"},children:[Object(a.jsx)(b.a.Header,{className:"text-white",style:{backgroundColor:"#375efc"},children:"Upcoming Appointments"}),Object(a.jsx)(b.a.Body,{children:Object(a.jsxs)(w.a,{striped:!0,bordered:!0,hover:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"#"}),Object(a.jsx)("th",{children:"Date"}),Object(a.jsx)("th",{children:"Vacine Type"}),Object(a.jsx)("th",{children:"GP"})]})}),Object(a.jsx)("tbody",{children:g.map((function(e){return Object(a.jsxs)("tr",{id:e.aid,children:[Object(a.jsx)("td",{children:e.aid}),Object(a.jsx)("td",{children:e.date}),Object(a.jsx)("td",{children:e.vaccineType}),Object(a.jsx)("td",{children:e.clinicName})]},e.aid)}))})]})})]})})}),Object(a.jsxs)(h.a,{className:"m-3",children:[Object(a.jsx)(p.a,{children:Object(a.jsxs)(b.a,{border:r?"success":"warning",children:[Object(a.jsx)(b.a.Header,{className:r?"bg-success text-white":"bg-warning",children:"Health Checkup!"}),Object(a.jsxs)(b.a.Body,{children:[Object(a.jsx)(b.a.Text,{children:"Update your daily progress!"}),Object(a.jsx)(O.a,{variant:r?"success":"warning",onClick:function(){return S(!0)},children:r?"completed":"start"}),Object(a.jsx)(L,{show:C,onHide:function(){return S(!1)},alter:function(e){e.preventDefault(),o(!r),S(!1)}})]})]})}),Object(a.jsx)(p.a,{children:Object(a.jsxs)(b.a,{border:"danger",style:{width:"Auto"},children:[Object(a.jsx)(b.a.Header,{className:"bg-danger text-white",children:"Emergency Hotlines!"}),Object(a.jsxs)(b.a.Body,{children:[Object(a.jsx)(b.a.Text,{children:"Reach out to an officer!"}),Object(a.jsx)(O.a,{variant:"danger",children:"Call"})," "]})]})})]}),Object(a.jsx)(h.a,{className:"m-3",children:Object(a.jsx)(p.a,{children:Object(a.jsxs)(b.a,{style:{width:"Auto",border:" 1px solid #375efc"},children:[Object(a.jsx)(b.a.Header,{className:"text-white",style:{backgroundColor:"#375efc"},children:"Useful Information"}),Object(a.jsx)(b.a.Body,{className:"m-2",children:Object(a.jsx)(k.a,{className:"m-1",children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(b.a.Header,{bg:"info",text:"white",children:Object(a.jsx)(k.a.Toggle,{as:d.b,text:"white",eventKey:"0",children:"Vaccination side effects!"})}),Object(a.jsx)(k.a.Collapse,{eventKey:"0",children:Object(a.jsxs)(b.a.Body,{children:[Object(a.jsx)("li",{children:"Vommitting"}),Object(a.jsx)("li",{children:"Nausea"}),Object(a.jsx)("li",{children:"Pain"}),Object(a.jsx)("li",{children:"Breathlessness"}),Object(a.jsx)("li",{children:"Panic"})]})})]})})})]})})})]})]})}function L(e){return Object(a.jsxs)(I.a,Object(i.a)(Object(i.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(a.jsx)(I.a.Header,{closeButton:!0,children:Object(a.jsx)(I.a.Title,{id:"contained-modal-title-vcenter",children:"Vaccination Monitoring Procedure"})}),Object(a.jsxs)(I.a.Body,{children:[Object(a.jsx)("p",{children:"Please provide the required information!"}),Object(a.jsxs)(C.a,{children:[Object(a.jsxs)("fieldset",{children:[Object(a.jsx)(C.a.Group,{children:["checkbox"].map((function(e){return Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)(C.a.Text,{children:"Are you experiencing pain anywhere in your body?"}),Object(a.jsx)(C.a.Check,{inline:!0,label:"Yes",type:e,id:"inline-".concat(e,"-1")}),Object(a.jsx)(C.a.Check,{inline:!0,label:"No",type:e,id:"inline-".concat(e,"-2")})]},"inline-".concat(e))}))}),Object(a.jsx)(C.a.Group,{children:["checkbox"].map((function(e){return Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)(C.a.Text,{children:"Are you having headaches/fever/chills?"}),Object(a.jsx)(C.a.Check,{inline:!0,label:"Not at all",type:e,id:"inline-".concat(e,"-1")}),Object(a.jsx)(C.a.Check,{inline:!0,label:"Bearable",type:e,id:"inline-".concat(e,"-2")}),Object(a.jsx)(C.a.Check,{inline:!0,label:"Extreme",type:e,id:"inline-".concat(e,"-2")})]},"inline-".concat(e))}))}),Object(a.jsx)(C.a.Group,{children:["checkbox"].map((function(e){return Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)(C.a.Text,{children:"Are there any Signs of redness or rashes on your skin?"}),Object(a.jsx)(C.a.Check,{inline:!0,label:"Yes",type:e,id:"inline-".concat(e,"-1")}),Object(a.jsx)(C.a.Check,{inline:!0,label:"No",type:e,id:"inline-".concat(e,"-2")})]},"inline-".concat(e))}))}),Object(a.jsx)(C.a.Group,{children:["checkbox"].map((function(e){return Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)(C.a.Text,{children:"Are you feeling tired or exhausted?"}),Object(a.jsx)(C.a.Check,{inline:!0,label:"Not at all",type:e,id:"inline-".concat(e,"-1")}),Object(a.jsx)(C.a.Check,{inline:!0,label:"A little",type:e,id:"inline-".concat(e,"-2")}),Object(a.jsx)(C.a.Check,{inline:!0,label:"Exhausted",type:e,id:"inline-".concat(e,"-2")})]},"inline-".concat(e))}))}),Object(a.jsx)(C.a.Group,{children:["checkbox"].map((function(e){return Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)(C.a.Text,{children:" Any feeling of sickness or nausea?"}),Object(a.jsx)(C.a.Check,{inline:!0,label:"Not at all",type:e,id:"inline-".concat(e,"-1")}),Object(a.jsx)(C.a.Check,{inline:!0,label:"A little",type:e,id:"inline-".concat(e,"-2")}),Object(a.jsx)(C.a.Check,{inline:!0,label:"I need assistance!",type:e,id:"inline-".concat(e,"-2")})]},"inline-".concat(e))}))}),Object(a.jsx)(C.a.Group,{children:["checkbox"].map((function(e){return Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)(C.a.Text,{children:"Sudden loss or gain of weight?"}),Object(a.jsx)(C.a.Check,{inline:!0,label:"Yes",type:e,id:"inline-".concat(e,"-1")}),Object(a.jsx)(C.a.Check,{inline:!0,label:"No",type:e,id:"inline-".concat(e,"-2")})]},"inline-".concat(e))}))})]}),Object(a.jsx)(C.a.Group,{as:h.a,children:Object(a.jsx)(p.a,{sm:{span:10,offset:2},children:Object(a.jsx)(O.a,{type:"submit",onClick:function(t){return e.alter(t)},children:"Submit"})})})]})]}),Object(a.jsx)(I.a.Footer,{children:Object(a.jsx)(O.a,{onClick:e.onHide,children:"Close"})})]}))}function D(e){var t=Object(n.useState)("Covid-19"),s=Object(l.a)(t,2),c=s[0],r=s[1],o=Object(n.useState)(""),i=Object(l.a)(o,2),j=i[0],d=i[1],b=Object(n.useState)([]),u=Object(l.a)(b,2),h=u[0],p=u[1],x=Object(n.useState)(""),g=Object(l.a)(x,2),m=g[0],v=g[1],S=Object(n.useState)(""),N=Object(l.a)(S,2);N[0],N[1];Object(n.useEffect)((function(){localStorage.getItem("ptoken")?f.a.get("".concat(y)).then((function(e){p(e.data)})).catch((function(t){e.setToastError(!0),t.response?t.response.data?e.setErrorMessage(t.response.data.message):(console.log(t.response),e.setErrorMessage(t.response.message)):(console.log(t),e.setErrorMessage(t.message))})):(alert("Please login to make an appointment!"),e.history.push("/patient"))}),[]);return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Book New Appointment"}),Object(a.jsxs)(C.a,{onSubmit:function(t){return function(t){t.preventDefault(),j&&c&&m?f.a.get("".concat(y,"/id/").concat(m)).then((function(t){var s=JSON.parse(localStorage.getItem("ptoken")),a={pid:s.pid,name:s.name,phoneNumber:s.phoneNumber,vaccineType:c,date:j,gpid:m,clinicName:t.data[0].clinicName};f.a.post("".concat(E,"/create"),a).then((function(t){e.setToastSuccess(!0),console.log(t),e.setSuccessMessage(t.data.message),e.history.push("/patient/dashboard")})).catch((function(t){e.setToastError(!0),t.response?t.response.data?e.setErrorMessage(t.response.data.message):(console.log(t.response),e.setErrorMessage(t.response.message)):(console.log(t),e.setErrorMessage(t.message))}))})).catch((function(t){e.setToastError(!0),t.response?t.response.data?e.setErrorMessage(t.response.data.message):(console.log(t.response),e.setErrorMessage(t.response.message)):(console.log(t),e.setErrorMessage(t.message))})):(e.setToastError(!0),e.setErrorMessage("Please fill in required field!"))}(t)},className:"m-3",children:[Object(a.jsxs)(C.a.Group,{controlId:"vaccination",children:[Object(a.jsx)(C.a.Label,{children:"Vaccination Type"}),Object(a.jsxs)(C.a.Control,{as:"select",value:c,readOnly:!0,onChange:function(e){return r(e.target.value)},children:[Object(a.jsx)("option",{children:"Covid-19"}),Object(a.jsx)("option",{children:"Influenza"}),Object(a.jsx)("option",{children:"Hepatitis"})]})]}),Object(a.jsxs)(C.a.Group,{controlId:"date",children:[Object(a.jsx)(C.a.Label,{children:"Appointment Date"}),Object(a.jsx)(C.a.Control,{type:"date",placeholder:"Select date...",format:"YYYY-Mmm-DD",value:j,onChange:function(e){return d(e.target.value)},required:!0})]}),Object(a.jsxs)(C.a.Group,{controlId:"generalpractitioner",children:[Object(a.jsx)(C.a.Label,{children:"GP"}),Object(a.jsxs)(C.a.Control,{as:"select",defaultValue:"Choose...",value:m,onChange:function(e){return v(e.target.value)},children:[Object(a.jsx)("option",{children:"Choose..."}),h.map((function(e){return Object(a.jsx)("option",{value:e.gpid,children:e.clinicName},e.gpid)}))]})]}),Object(a.jsx)(O.a,{variant:"primary",type:"submit",children:"Create"})]})]})})}function q(e){var t=Object(n.useState)(""),s=Object(l.a)(t,2),c=s[0],r=s[1],o=Object(n.useState)(""),i=Object(l.a)(o,2),j=i[0],b=i[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"GP Portal"}),Object(a.jsxs)(C.a,{className:"m-3",children:[Object(a.jsxs)(C.a.Group,{controlId:"login",children:[Object(a.jsx)(C.a.Label,{children:"Email"}),Object(a.jsx)(C.a.Control,{type:"email",placeholder:"Enter email address",value:c,onChange:function(e){return r(e.target.value)}})]}),Object(a.jsxs)(C.a.Group,{controlId:"password",children:[Object(a.jsx)(C.a.Label,{children:"Password"}),Object(a.jsx)(C.a.Control,{type:"password",placeholder:"Enter password",value:j,onChange:function(e){return b(e.target.value)}})]}),Object(a.jsx)(O.a,{type:"submit",variant:"primary",className:"mx-2",onClick:function(t){return function(t){if(t.preventDefault(),c&&j){var s={email:c,password:j};f.a.post("".concat(y,"/login"),s).then((function(t){localStorage.setItem("gptoken",JSON.stringify(t.data.gptoken)),e.history.push("/gp/dashboard")})).catch((function(t){e.setToastError(!0),t.response?t.response.data?e.setErrorMessage(t.response.data.message):(console.log(t.response),e.setErrorMessage(t.response.message)):(console.log(t),e.setErrorMessage(t.message))}))}else e.setToastError(!0),e.setErrorMessage("Please key in required field!")}(t)},children:"Sign in"}),Object(a.jsx)(d.b,{to:"gp/register",children:Object(a.jsx)(O.a,{variant:"primary",className:"mx-2",children:"Register"})})]})]})}var B=s(115),H=s(108);function R(e){var t=Object(n.useState)(""),s=Object(l.a)(t,2),c=s[0],r=s[1],o=Object(n.useState)(""),i=Object(l.a)(o,2),j=i[0],d=i[1],b=Object(n.useState)(""),u=Object(l.a)(b,2),h=u[0],p=u[1],x=Object(n.useState)(""),g=Object(l.a)(x,2),m=g[0],y=g[1],S=Object(n.useState)(""),N=Object(l.a)(S,2),M=N[0],T=N[1];Object(n.useEffect)((function(){d(c.aid),p(c.name),y(c.date)}),[c]);return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(C.a,{onSubmit:function(t){return function(t){t.preventDefault(),j&&h&&m?f.a.put("".concat(E,"/id/").concat(j,"/status/completed")).then((function(t){console.log(t),e.setToastSuccess(!0),e.setSuccessMessage(t.data.message),T(""),d(""),p(""),y(""),r(""),e.toggleUpdate()})).catch((function(t){e.setToastError(!0),t.response?t.response.data?e.setErrorMessage(t.response.data.message):(console.log(t.response),e.setErrorMessage(t.response.message)):(console.log(t),e.setErrorMessage(t.message))})):alert("Please enter required field!")}(t)},className:"m-3",children:[Object(a.jsx)("h2",{children:"Key in"}),Object(a.jsxs)(C.a.Group,{controlId:"nric",children:[Object(a.jsx)(C.a.Label,{children:"NRIC / FIN"}),Object(a.jsx)(C.a.Control,{type:"text",placeholder:"Type in NRIC / FIN to fill in data.",value:M,onChange:function(e){return T(e.target.value)}}),Object(a.jsx)(O.a,{className:"my-3",variant:"outline-primary",onClick:function(t){return function(t){t.preventDefault();var s=JSON.parse(localStorage.getItem("gptoken")).gpid;M?f.a.get("".concat(v,"/fetch/").concat(M)).then((function(t){console.log(t),f.a.get("".concat(E,"/gpid/").concat(s,"/email/").concat(t.data.email)).then((function(t){console.log(t),1===t.data.length&&(r(t.data[0]),e.setToastSuccess(!0),e.setSuccessMessage("Appointment found!"))})).catch((function(t){e.setToastError(!0),t.response?t.response.data?e.setErrorMessage(t.response.data.message):(console.log(t.response),e.setErrorMessage(t.response.message)):(console.log(t),e.setErrorMessage(t.message))}))})):(e.setToastError(!0),e.setErrorMessage("Please enter NRIC to use this feature!"))}(t)},children:"fetch info"})]}),Object(a.jsx)("h2",{children:"-------------------- Or --------------------"}),Object(a.jsxs)(C.a.Group,{controlId:"id",children:[Object(a.jsx)(C.a.Label,{children:"Appointment ID"}),Object(a.jsx)(C.a.Control,{type:"text",placeholder:"Enter appointment ID",value:j,required:!0,onChange:function(e){return d(e.target.value)}})]}),Object(a.jsxs)(C.a.Group,{controlId:"patientname",children:[Object(a.jsx)(C.a.Label,{children:"Patient's Name"}),Object(a.jsx)(C.a.Control,{type:"text",placeholder:"Enter patient's name",value:h,required:!0,onChange:function(e){return p(e.target.value)}})]}),Object(a.jsxs)(C.a.Group,{controlId:"vaccinetype",children:[Object(a.jsx)(C.a.Label,{children:"Vaccination Type"}),Object(a.jsx)(C.a.Control,{type:"text",value:"Covid-19",readOnly:!0})]}),Object(a.jsxs)(C.a.Group,{controlId:"date",children:[Object(a.jsx)(C.a.Label,{children:"Appointment Date"}),Object(a.jsx)(C.a.Control,{type:"date",placeholder:"Enter date of appointment",value:m,required:!0,onChange:function(e){return y(e.target.value)}})]}),Object(a.jsx)(O.a,{variant:"outline-primary",type:"submit",className:"m-5",disabled:!(j&&h&&m),children:"Check-In"})]})})}function V(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(C.a,{className:"m-3",onSubmit:function(t){e.updateAppointment(t,e.edit.aid)},children:[Object(a.jsxs)(C.a.Group,{controlId:"patientname",children:[Object(a.jsx)(C.a.Label,{children:"Patient's Name"}),Object(a.jsx)(C.a.Control,{type:"text",placeholder:"Enter patient's name",value:e.edit.name,readOnly:!0})]}),Object(a.jsxs)(C.a.Group,{controlId:"vaccinetype",children:[Object(a.jsx)(C.a.Label,{children:"Vaccination Type"}),Object(a.jsx)(C.a.Control,{type:"text",value:"Covid-19",readOnly:!0})]}),Object(a.jsxs)(C.a.Group,{controlId:"oridate",children:[Object(a.jsx)(C.a.Label,{children:"Original Appointment Date"}),Object(a.jsx)(C.a.Control,{type:"date",value:e.edit.date,readOnly:!0})]}),Object(a.jsxs)(C.a.Group,{controlId:"newdate",children:[Object(a.jsx)(C.a.Label,{children:"New Appointment Date"}),Object(a.jsx)(C.a.Control,{type:"date",placeholder:"Enter date of appointment",value:e.newAppointmentDate,onChange:function(t){return e.setNewAppointmentDate(t.target.value)}})]}),Object(a.jsx)(O.a,{variant:"outline-primary",type:"submit",className:"m-5",children:"Update"}),Object(a.jsx)(O.a,{variant:"outline-danger",type:"button",className:"m-5",onClick:function(){return e.setEdit(null)},children:"Cancel"})]})})}function F(e){var t=Object(n.useState)([]),s=Object(l.a)(t,2),c=s[0],r=s[1],o=Object(n.useState)(null),i=Object(l.a)(o,2),j=i[0],d=i[1],b=Object(n.useState)(""),u=Object(l.a)(b,2),h=u[0],p=u[1],x=Object(n.useState)(null),g=Object(l.a)(x,2),m=g[0],v=g[1],y=Object(n.useState)(!1),C=Object(l.a)(y,2),S=C[0],N=C[1];Object(n.useEffect)((function(){var t=JSON.parse(localStorage.getItem("gptoken"));t?d(t):(alert("Please login to use this page!"),e.history.push("/gp"))}),[]),Object(n.useEffect)((function(){j&&f.a.get("".concat(E,"/gpid/").concat(j.gpid)).then((function(e){r(e.data)})).catch((function(t){e.setToastError(!0),t.response?t.response.data?e.setErrorMessage(t.response.data.message):(console.log(t.response),e.setErrorMessage(t.response.message)):(console.log(t),e.setErrorMessage(t.message))}))}),[j,S]);return Object(a.jsxs)("div",{className:"App mt-5",children:[Object(a.jsx)("h2",{children:"GP Dashboard"}),Object(a.jsx)(O.a,{variant:"outline-danger",onClick:function(t){!function(t){t.preventDefault(),localStorage.removeItem("gptoken"),e.history.push("/")}(t)},children:"Logout"}),Object(a.jsxs)(B.a,{defaultActiveKey:"appointments",id:"uncontrolled-tab-example",children:[j&&Object(a.jsxs)(H.a,{eventKey:"gpinfo",title:"GP Info",children:[Object(a.jsx)("h1",{className:"m-5",children:"My Clinic's Info"}),Object(a.jsxs)("div",{className:"mx-5 text-left",children:[Object(a.jsxs)("h2",{children:["Name: ",j.clinicName]}),Object(a.jsxs)("h4",{children:["Address: ",j.address]}),Object(a.jsxs)("h4",{children:["E-mail: ",j.email]})]})]}),Object(a.jsxs)(H.a,{eventKey:"appointments",title:"Appointments",children:[Object(a.jsx)("h1",{className:"m-5",children:"Appointments"}),Object(a.jsx)("div",{className:"mx-5",children:Object(a.jsx)(P,{appointments:c,setEdit:v,deleteAppointment:function(t,s){f.a.delete("".concat(E,"/id/").concat(t)).then((function(t){console.log(t),e.setToastSuccess(!0),e.setSuccessMessage(t.data.message),N(!S)})).catch((function(t){e.setToastError(!0),t.response?t.response.data?e.setErrorMessage(t.response.data.message):(console.log(t.response),e.setErrorMessage(t.response.message)):(console.log(t),e.setErrorMessage(t.message))}))}})})]}),Object(a.jsx)(H.a,{eventKey:"checkin",title:"Check Patient In",children:Object(a.jsx)(R,{toggleUpdate:function(){N(!S)},setToastSuccess:e.setToastSuccess,setToastError:e.setToastError,setSuccessMessage:e.setSuccessMessage,setErrorMessage:e.setErrorMessage})}),m&&j&&Object(a.jsx)(H.a,{eventKey:"edit",title:"Edit Appointment: S/N "+(c.map((function(e){return e.aid})).indexOf(m.aid)+1),children:Object(a.jsx)(V,{edit:m,newAppointmentDate:h,setNewAppointmentDate:p,setEdit:v,updateAppointment:function(t,s){if(t.preventDefault(),h){var a={date:h};f.a.put("".concat(E,"/id/").concat(s,"/changeDate"),a).then((function(t){e.setToastSuccess(!0),e.setSuccessMessage(t.data.message),v(null),N(!S)})).catch((function(t){e.setToastError(!0),t.response?t.response.data?e.setErrorMessage(t.response.data.message):(console.log(t.response),e.setErrorMessage(t.response.message)):(console.log(t),e.setErrorMessage(t.message))}))}else alert("Pleasee enter a date!")}})})]})]})}var K=function(e){var t=Object(n.useState)(""),s=Object(l.a)(t,2),c=s[0],r=s[1],o=Object(n.useState)(""),i=Object(l.a)(o,2),j=i[0],d=i[1],b=Object(n.useState)(""),u=Object(l.a)(b,2),h=u[0],p=u[1],x=Object(n.useState)(""),g=Object(l.a)(x,2),m=g[0],v=g[1],E=Object(n.useState)(""),S=Object(l.a)(E,2),N=S[0],M=S[1],T=Object(n.useState)(""),w=Object(l.a)(T,2),k=w[0],I=w[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"GP Register"}),Object(a.jsxs)(C.a,{onSubmit:function(t){return function(t){t.preventDefault(),c&&j&&h&&m&&N&&k?m===N?f.a.post("".concat(y,"/create"),{clinicName:c,address:j,email:h,password:m,adminCode:k}).then((function(t){e.setToastSuccess(!0),e.setSuccessMessage(t.data.message),e.history.push("/gp")})).catch((function(t){e.setToastError(!0),t.response?t.response.data?e.setErrorMessage(t.response.data.message):(console.log(t.response),e.setErrorMessage(t.response.message)):(console.log(t),e.setErrorMessage(t.message))})):(e.setToastError(!0),e.setErrorMessage("Confirm password and password not matched!")):(e.setToastError(!0),e.setErrorMessage("Please fill in required field!"))}(t)},className:"m-3",children:[Object(a.jsxs)(C.a.Group,{controlId:"clinicname",children:[Object(a.jsx)(C.a.Label,{children:"Clinic Name"}),Object(a.jsx)(C.a.Control,{type:"text",placeholder:"Clinic's name",required:!0,value:c,onChange:function(e){return r(e.target.value)}})]}),Object(a.jsxs)(C.a.Group,{controlId:"address",children:[Object(a.jsx)(C.a.Label,{children:"Address"}),Object(a.jsx)(C.a.Control,{type:"address",placeholder:"last name",required:!0,value:j,onChange:function(e){return d(e.target.value)}})]}),Object(a.jsxs)(C.a.Group,{controlId:"email",children:[Object(a.jsx)(C.a.Label,{children:"Email"}),Object(a.jsx)(C.a.Control,{type:"email",placeholder:"email",required:!0,value:h,onChange:function(e){return p(e.target.value)}})]}),Object(a.jsxs)(C.a.Group,{controlId:"password",children:[Object(a.jsx)(C.a.Label,{children:"Password"}),Object(a.jsx)(C.a.Control,{type:"password",placeholder:"password(8 characters)",required:!0,minLength:"8",value:m,onChange:function(e){return v(e.target.value)}})]}),Object(a.jsxs)(C.a.Group,{controlId:"confirmpassword",children:[Object(a.jsx)(C.a.Label,{children:"Confirm Password"}),Object(a.jsx)(C.a.Control,{type:"password",placeholder:"confirm password",required:!0,minLength:"8",value:N,onChange:function(e){return M(e.target.value)}})]}),Object(a.jsxs)(C.a.Group,{controlId:"admincode",children:[Object(a.jsx)(C.a.Label,{children:"Admin Code"}),Object(a.jsx)(C.a.Control,{type:"password",placeholder:"Admin code",required:!0,value:k,onChange:function(e){return I(e.target.value)}})]}),Object(a.jsx)(O.a,{type:"submit",variant:"primary",children:"Register"})]})]})},J=s.p+"static/media/minilogo.103f8385.png",Y=s(111);function z(e){return Object(a.jsxs)("div",{style:{position:"absolute",top:20,right:20,zIndex:100},children:[Object(a.jsxs)(Y.a,{className:"border-success text-success bg-success",show:e.toastSuccess,onClose:function(){return e.setToastSuccess(!1)},children:[Object(a.jsxs)(Y.a.Header,{className:"border-success",children:[Object(a.jsx)("img",{src:J,className:"rounded mr-2",style:{height:"20px"},alt:"vms"}),Object(a.jsx)("strong",{className:"mr-auto text-success",children:"VMS"})]}),Object(a.jsx)(Y.a.Body,{className:"text-white",children:e.successMessage})]}),Object(a.jsxs)(Y.a,{className:"border-danger text-danger bg-danger",show:e.toastError,onClose:function(){return e.setToastError(!1)},children:[Object(a.jsxs)(Y.a.Header,{children:[Object(a.jsx)("img",{src:J,className:"rounded mr-2",style:{height:"20px"},alt:"vms"}),Object(a.jsx)("strong",{className:"mr-auto text-danger",children:"VMS"})]}),Object(a.jsx)(Y.a.Body,{className:"text-white",children:e.errorMessage})]})]})}var U=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),s=t[0],c=t[1],r=Object(n.useState)(""),o=Object(l.a)(r,2),d=o[0],b=o[1],u=Object(n.useState)(!1),h=Object(l.a)(u,2),p=h[0],O=h[1],x=Object(n.useState)(""),m=Object(l.a)(x,2),f=m[0],v=m[1];return Object(n.useEffect)((function(){setTimeout((function(){c(!1),O(!1),b(""),v("")}),4e3)}),[p,s]),Object(a.jsxs)("div",{className:"w-75 mt-5 mx-auto",children:[Object(a.jsx)(z,{"aria-live":"polite","aria-atomic":"true",style:{position:"relative",minHeight:"200px"},errorMessage:f,successMessage:d,toastSuccess:s,setToastSuccess:c,toastError:p,setToastError:O}),Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{exact:!0,path:"/",component:g}),Object(a.jsx)(j.a,{path:"/patient/register",render:function(e){return Object(a.jsx)(N,Object(i.a)(Object(i.a)({},e),{},{setToastSuccess:c,setToastError:O,setSuccessMessage:b,setErrorMessage:v}))}}),Object(a.jsx)(j.a,{path:"/patient/dashboard",render:function(e){return Object(a.jsx)(G,Object(i.a)(Object(i.a)({},e),{},{setToastSuccess:c,setToastError:O,setSuccessMessage:b,setErrorMessage:v}))}}),Object(a.jsx)(j.a,{path:"/patient/appointment",render:function(e){return Object(a.jsx)(D,Object(i.a)(Object(i.a)({},e),{},{setToastSuccess:c,setToastError:O,setSuccessMessage:b,setErrorMessage:v}))}}),Object(a.jsx)(j.a,{path:"/gp/register",render:function(e){return Object(a.jsx)(K,Object(i.a)(Object(i.a)({},e),{},{setToastSuccess:c,setToastError:O,setSuccessMessage:b,setErrorMessage:v}))}}),Object(a.jsx)(j.a,{path:"/gp/dashboard",render:function(e){return Object(a.jsx)(F,Object(i.a)(Object(i.a)({},e),{},{setToastSuccess:c,setToastError:O,setSuccessMessage:b,setErrorMessage:v}))}}),Object(a.jsx)(j.a,{path:"/patient",render:function(e){return Object(a.jsx)(S,Object(i.a)(Object(i.a)({},e),{},{setToastError:O,setErrorMessage:v}))}}),Object(a.jsx)(j.a,{path:"/gp",render:function(e){return Object(a.jsx)(q,Object(i.a)(Object(i.a)({},e),{},{setToastError:O,setErrorMessage:v}))}})]})]})},$=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,116)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),a(e),n(e),c(e),r(e)}))};o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(d.a,{children:Object(a.jsx)(U,{})})}),document.getElementById("root")),$()},74:function(e,t,s){},75:function(e,t,s){}},[[102,1,2]]]);
//# sourceMappingURL=main.31437a50.chunk.js.map